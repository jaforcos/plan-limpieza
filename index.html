<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBNVzJEDDwPEq6WhJDnscrfMzZFMjykkDE",
    authDomain: "plan-de-limpieza-2026.firebaseapp.com",
    projectId: "plan-de-limpieza-2026",
    storageBucket: "plan-de-limpieza-2026.firebasestorage.app",
    messagingSenderId: "575163614718",
    appId: "1:575163614718:web:3b467d335e459bb3ff6caf",
    measurementId: "G-EMHZEHVQ78"
  };

  const app = initializeApp(firebaseConfig);

  // Analytics puede fallar en algunos entornos; lo dejamos protegido
  let analytics = null;
  try {
    analytics = getAnalytics(app);
  } catch (e) {
    console.warn("Analytics no disponible:", e);
  }

  // Auth an√≥nimo
  const auth = getAuth(app);
  await signInAnonymously(auth);

  // Firestore
  const db = getFirestore(app);

  // Exponer a app.js
  window.FB = { app, auth, db, analytics };
</script>
``
